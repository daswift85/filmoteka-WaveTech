{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,aAGMC,EAAmBC,SAASC,cAAc,eAE1CC,GADaF,SAASC,cAAc,iBACtBD,SAASC,cAAc,mBACrCE,EAAqBH,SAASC,cAAc,0BAK5CG,G,EAAcC,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,EAAOC,EAAOC,G,IAExBC,EACAC,E,2FADiBC,MAAM,GAAqBC,OAXvC,4CAW4B,aAA2BA,OAZvD,mCAY8C,WAAuBA,OAAdL,EAAM,UAAaK,OAALJ,I,cAA1EC,EAAQI,EAAAC,K,SACKL,EAASM,O,cAAtBL,EAAIG,EAAAC,K,kBACHJ,EAAKM,S,yCAEZC,QAAQC,MAAM,yBAAwBL,EAAAM,I,kBAC/B,I,mEAPgBZ,EAAOC,G,iCAY5BY,EAAe,SAACC,GACpBxB,EAAiByB,UAAY,GAC7BD,EAAOE,SAAQ,SAACC,GACd,IAAMC,EAASD,EAAME,UAAUC,KAAI,SAACC,G,OAAYA,EAAQC,I,IAAMC,KAAK,MAC7DC,EAAYP,EAAMQ,aAAeR,EAAMQ,aAAaC,MAAM,KAAK,GAAK,GACpEC,EAAYV,EAAMW,aAAeX,EAAMW,aAAaC,QAAQ,GAAK,GACjEC,EAASb,EAAMc,YACf,mCAAqD1B,OAAlBY,EAAMc,aA9BlC,yBAgCPC,EAAc,iDAIP3B,OAH6BY,EAAMgB,GAAG,qEAItC5B,OADA,kCAAoCyB,EAAO,sBAMrBzB,OALtBY,EAAMiB,OAASjB,EAAMK,KAAK,wIAOEjB,OAFNY,EAAMiB,OAASjB,EAAMK,KAAK,6FAI1BjB,OAFMa,EAAO,mGAGbb,OADAmB,EAAU,+CACAnB,OAAVsB,EAAU,6DAK7CrC,EAAiByB,WAAaiB,C,KAK5BG,EAAgB,W,MAAGvC,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,EAAOqC,G,IAExBpC,EAGEc,E,qEAJRsB,EAAMC,mBACArC,EAAQP,EAAY6C,OACjB,C,sBACPhD,EAAiByB,UAAY,G,SACRpB,EAAYK,EAtDnB,G,OAsDRc,EAAMR,EAAAC,KACZM,EAAaC,G,2DANesB,G,gCAAV,GAWtB1C,EAAmB6C,iBAAiB,QAASJ,E","sources":["src/js/testsandrender.js"],"sourcesContent":["const noPoster = '../images/noPoster.png';\nconst apiKey = '492f9e953404699f8c7d096022fa41fa'; // Replace with your TMDB API key\nconst apiUrl = 'https://api.themoviedb.org/3/search/movie';\nconst galleryContainer = document.querySelector('.js-gallery'); // Replace with the ID of your gallery container element\nconst searchForm = document.querySelector('.search__form'); // Replace with the class name of your search form\nconst searchInput = document.querySelector('.search__input'); // Replace with the class name of your search input\nconst searchSubmitButton = document.querySelector('.search__submit-button'); // Replace with the class name of your search submit button\n\nlet currentPage = 1;\n\n// Function to fetch movie data from TMDB API\nconst fetchMovies = async (query, page) => {\n  try {\n    const response = await fetch(`${apiUrl}?api_key=${apiKey}&query=${query}&page=${page}`);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.error('Error fetching movies:', error);\n    return [];\n  }\n};\n\n// Function to render movies in the gallery\nconst renderMovies = (movies) => {\n  galleryContainer.innerHTML = ''; // Clear gallery container\n  movies.forEach((movie) => {\n    const genres = movie.genre_ids.map((genreId) => genreId.name).join(', ');\n    const movieYear = movie.release_date ? movie.release_date.split('-')[0] : '';\n    const movieRate = movie.vote_average ? movie.vote_average.toFixed(1) : '';\n    const poster = movie.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n        : noPoster;\n    const movieMarkup = `\n      <li class=\"gallery__item\" data-movie=\"${movie.id}\">\n        <img\n          class=\"gallery__img\"\n          src=\"${'https://image.tmdb.org/t/p/w500' + poster}\"\n          alt=\"${movie.title || movie.name}\"\n          width\n          loading=\"lazy\"\n        />\n        <div class=\"gallery__wrap\">\n          <h2 class=\"gallery__title\">${movie.title || movie.name}</h2>\n          <div class=\"gallery__info\">\n            <p class=\"gallery__genre-text\">${genres}</p>\n            <span class=\"gallery__date\"> | </span>\n            <p class=\"gallery__date\">${movieYear}</p>\n            <p class=\"gallery__rank\">${movieRate}</p>\n          </div>\n        </div>\n      </li>\n    `;\n    galleryContainer.innerHTML += movieMarkup; // Append movie markup to gallery container\n  });\n};\n\n// Function to handle form submission\nconst handleFormSubmit = async (event) => {\n  event.preventDefault();\n  const query = searchInput.value;\n  if (query) {\n    galleryContainer.innerHTML = ''; // Clear gallery container\n    const movies = await fetchMovies(query, currentPage);\n    renderMovies(movies);\n  }\n};\n\n// Add event listener to form submit button\nsearchSubmitButton.addEventListener('click', handleFormSubmit);\n"],"names":["$bpxeT","parcelRequire","$6463ef267f0cf1a1$var$galleryContainer","document","querySelector","$6463ef267f0cf1a1$var$searchInput","$6463ef267f0cf1a1$var$searchSubmitButton","$6463ef267f0cf1a1$var$fetchMovies","$parcel$interopDefault","$2TvXO","mark","_callee","query","page","response","data","fetch","concat","_ctx","sent","json","results","console","error","t0","$6463ef267f0cf1a1$var$renderMovies","movies","innerHTML","forEach","movie","genres","genre_ids","map","genreId","name","join","movieYear","release_date","split","movieRate","vote_average","toFixed","poster","poster_path","movieMarkup","id","title","$6463ef267f0cf1a1$var$handleFormSubmit","event","preventDefault","value","addEventListener"],"version":3,"file":"index.ff70b240.js.map"}