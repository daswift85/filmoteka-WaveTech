{"mappings":"qhBAAAA,EAAA,S,yHCAA,IAAAC,EAAAD,EAAA,S,oDAMAE,EAAAC,QAAKC,WAAWC,iBAAiB,UAAUC,MAAMC,IAC/CA,EAAMC,kBAEN,EAAAC,EAAAC,SAAQ,SAER,MAAMC,EAAcT,EAAAC,QAAKS,YAAYC,MAAMC,OAC3C,GAAoB,KAAhBH,EAUF,OATAI,EAAAd,GAASe,OAAOC,QACd,wDAC8C,CAC5CC,SAAU,gBACVC,QAAS,WAIb,EAAAV,EAAAC,SAAQ,QAK8C,MAelDU,QAAsB,EAAAC,EAAAC,mBAAkBX,EAAa,GAE3D,GAAqC,IAAjCS,EAAcG,QAAQC,OACxBT,EAAAd,GAASe,OAAOS,QACd,8EACA,CACEP,SAAU,gBACVC,QAAS,UAGR,CACLjB,EAAAC,QAAKuB,QAAQC,UAAY,GACzB,MAAMC,GAAe,EAAAC,EAAAC,qBAAoBV,EAAcG,SACvDrB,EAAAC,QAAKuB,QAAQK,mBAAmB,YAAaH,E,EAG/C,EAAAnB,EAAAC,SAAQ,QAERR,EAAAC,QAAKS,YAAYC,MAAQ,EAAE,I","sources":["src/index.js","src/js/searchByKeyword.js"],"sourcesContent":["import './js/library';\r\nimport './js/genresList';\r\nimport './js/genresListFormat';\r\nimport './js/darktheme.js';\r\nimport './js/movieReleaseYearFormat';\r\nimport './js/api/movieAPI';\r\nimport './js/api/varsAPI';\r\nimport './js/render/render-cards-main-page';\r\nimport './js/render/markup-cards-main-page';\r\nimport './js/refs';\r\nimport './js/components/spinner';\r\nimport './js/team-modal.js';\r\nimport './js/searchByKeyword';\r\nimport './js/filter/filterByWeeklyTrending';\r\nimport './js/render/movie-modal';\r\nimport './js/render/open-and-close-modal';\r\nimport './js/loader';\r\nimport './js/components/pagination2.js';\r\nimport './js/filter/filterByTopRated';\r\nimport './js/filter/filterByNowPlaying';\r\nimport './js/filter/filterByPopular';\r\nimport './js/filter/filterByUpcoming';\r\nimport './js/btnaddtoLocalStorage';\r\nimport './js/components/toTopBottomBtn';\r\n","import Notiflix from 'notiflix';\nimport refs from './refs';\nimport { getMovieByKeyword } from './api/movieAPI';\nimport { createGalleryMarkup } from './render/markup-cards-main-page';\nimport { spinner } from './components/spinner';\n\nrefs.searchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  spinner('start');\n\n  const searchQuery = refs.searchInput.value.trim();\n  if (searchQuery === '') {\n    Notiflix.Notify.failure(\n      'Пожалуйста, введите ключевое слово для поиска фильмов',\n      {\n        position: 'center-center',\n        timeout: 3000,\n      }\n    );\n\n    spinner('stop');\n    return;\n  }\n\n  // Функция для поиска фильмов по ключевому слову и похожим названиям\n  const searchMovies = async query => {\n    const response = await fetch(\n      `https://api.example.com/movies?query=${query}`\n    );\n    const movies = await response.json();\n\n    // Создаем регулярное выражение для поиска похожих названий фильмов\n    const regex = new RegExp(`.*${query.split('').join('.*')}.*`, 'i');\n\n    // Фильтруем полученные результаты по регулярному выражению\n    const similarMovies = movies.filter(movie => regex.test(movie.title));\n\n    return similarMovies;\n  };\n\n  const searchResults = await getMovieByKeyword(searchQuery, 1);\n\n  if (searchResults.results.length === 0) {\n    Notiflix.Notify.warning(\n      'Notyflix: По вашему запросу ничего не найдено. Пожалуйста, повторите поиск.',\n      {\n        position: 'center-center',\n        timeout: 3000,\n      }\n    );\n  } else {\n    refs.gallery.innerHTML = '';\n    const moviesMarkup = createGalleryMarkup(searchResults.results);\n    refs.gallery.insertAdjacentHTML('beforeend', moviesMarkup);\n  }\n\n  spinner('stop');\n\n  refs.searchInput.value = '';\n});\n"],"names":["parcelRequire","$7Y9D8","$krGWQ","default","searchForm","addEventListener","async","event","preventDefault","$bHKmf","spinner","searchQuery","searchInput","value","trim","$parcel$interopDefault","Notify","failure","position","timeout","searchResults","$k8mky","getMovieByKeyword","results","length","warning","gallery","innerHTML","moviesMarkup","$meWK3","createGalleryMarkup","insertAdjacentHTML"],"version":3,"file":"index.9f55bd2f.js.map"}