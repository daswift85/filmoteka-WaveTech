{"mappings":"iiBAAAA,EAAA,S,yHCAA,I,EAAAC,EAAAD,EAAA,S,8EAMAE,EAAAC,QAAKC,WAAWC,iBAAiB,U,EAAUC,EAAAL,EAAA,CAAAK,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,IAKzCC,EA8BAC,EAYEC,E,qEA9CRH,EAAMI,kBAEN,EAAAC,EAAAC,SAAQ,SAGY,MADdL,EAAcT,EAAAC,QAAKc,YAAYC,MAAMC,QACrB,C,sBACpBb,EAAAc,GAASC,OAAOC,QACd,wDACA,CACEC,SAAU,gBACVC,QAAS,OAIb,EAAAT,EAAAC,SAAQ,Q,iCAKQ,W,MAAGV,EAAAL,EAAA,CAAAK,EAAAC,GAAAC,MAAA,SAAAiB,EAAMC,G,IACnBC,EAGAC,EAGAC,EAGAC,E,kFATiBC,MACrB,wCAA8CC,OAANN,I,cADpCC,EAAQM,EAAAC,K,SAGOP,EAASQ,O,cAAxBP,EAAMK,EAAAC,KAGNL,EAAQ,IAAIO,OAAO,KAAgCJ,OAA3BN,EAAMW,MAAM,IAAIC,KAAK,MAAM,MAAK,KAGxDR,EAAgBF,EAAOW,QAAO,SAAAC,G,OAASX,EAAMY,KAAKD,EAAME,M,sBAEvDZ,G,2CAZS,G,WAeU,EAAAa,EAAAC,mBAAkBjC,EAAa,G,QAEtB,KAF/BC,EAAaiC,EAAAX,MAEDY,QAAQC,OACxBzC,EAAAc,GAASC,OAAO2B,QACd,8EACA,CACEzB,SAAU,gBACVC,QAAS,OAIbtB,EAAAC,QAAK8C,QAAQC,UAAY,GACnBrC,GAAe,EAAAsC,EAAAC,qBAAoBxC,EAAckC,SACvD5C,EAAAC,QAAK8C,QAAQI,mBAAmB,YAAaxC,KAG/C,EAAAE,EAAAC,SAAQ,QAERd,EAAAC,QAAKc,YAAYC,MAAQ,G,qDArDsBR,G","sources":["src/index.js","src/js/searchByKeyword.js"],"sourcesContent":["import './js/library';\r\nimport './js/genresList';\r\nimport './js/genresListFormat';\r\nimport './js/darktheme.js';\r\nimport './js/movieReleaseYearFormat';\r\nimport './js/api/movieAPI';\r\nimport './js/api/varsAPI';\r\nimport './js/render/render-cards-main-page';\r\nimport './js/render/markup-cards-main-page';\r\nimport './js/refs';\r\nimport './js/components/spinner';\r\nimport './js/team-modal.js';\r\nimport './js/searchByKeyword';\r\nimport './js/filter/filterByWeeklyTrending';\r\nimport './js/render/movie-modal';\r\nimport './js/render/open-and-close-modal';\r\nimport './js/loader';\r\nimport './js/components/pagination2.js';\r\nimport './js/filter/filterByTopRated';\r\nimport './js/filter/filterByNowPlaying';\r\nimport './js/filter/filterByPopular';\r\nimport './js/filter/filterByUpcoming';\r\nimport './js/btnaddtoLocalStorage';\r\nimport './js/components/toTopBottomBtn';\r\n","import Notiflix from 'notiflix';\nimport refs from './refs';\nimport { getMovieByKeyword } from './api/movieAPI';\nimport { createGalleryMarkup } from './render/markup-cards-main-page';\nimport { spinner } from './components/spinner';\n\nrefs.searchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  spinner('start');\n\n  const searchQuery = refs.searchInput.value.trim();\n  if (searchQuery === '') {\n    Notiflix.Notify.failure(\n      'Пожалуйста, введите ключевое слово для поиска фильмов',\n      {\n        position: 'center-center',\n        timeout: 3000,\n      }\n    );\n\n    spinner('stop');\n    return;\n  }\n\n  // Функция для поиска фильмов по ключевому слову и похожим названиям\n  const searchMovies = async query => {\n    const response = await fetch(\n      `https://api.example.com/movies?query=${query}`\n    );\n    const movies = await response.json();\n\n    // Создаем регулярное выражение для поиска похожих названий фильмов\n    const regex = new RegExp(`.*${query.split('').join('.*')}.*`, 'i');\n\n    // Фильтруем полученные результаты по регулярному выражению\n    const similarMovies = movies.filter(movie => regex.test(movie.title));\n\n    return similarMovies;\n  };\n\n  const searchResults = await getMovieByKeyword(searchQuery, 1);\n\n  if (searchResults.results.length === 0) {\n    Notiflix.Notify.warning(\n      'Notyflix: По вашему запросу ничего не найдено. Пожалуйста, повторите поиск.',\n      {\n        position: 'center-center',\n        timeout: 3000,\n      }\n    );\n  } else {\n    refs.gallery.innerHTML = '';\n    const moviesMarkup = createGalleryMarkup(searchResults.results);\n    refs.gallery.insertAdjacentHTML('beforeend', moviesMarkup);\n  }\n\n  spinner('stop');\n\n  refs.searchInput.value = '';\n});\n"],"names":["parcelRequire","$bpxeT","$4Nugj","default","searchForm","addEventListener","$parcel$interopDefault","$2TvXO","mark","_callee1","event","searchQuery","searchResults","moviesMarkup","preventDefault","$64MGL","spinner","searchInput","value","trim","$6JpON","Notify","failure","position","timeout","_callee","query","response","movies","regex","similarMovies","fetch","concat","_ctx","sent","json","RegExp","split","join","filter","movie","test","title","$8NbBk","getMovieByKeyword","_ctx1","results","length","warning","gallery","innerHTML","$b5IIj","createGalleryMarkup","insertAdjacentHTML"],"version":3,"file":"index.5715486c.js.map"}