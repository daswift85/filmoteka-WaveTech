{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCC5F,MAEMC,EAAmBC,SAASC,cAAc,eAE1CC,GADaF,SAASC,cAAc,iBACtBD,SAASC,cAAc,mBACrCE,EAAqBH,SAASC,cAAc,0BA8DlDE,EAAmBC,iBAAiB,SAXXC,MAAOC,IAC9BA,EAAMC,iBACN,MAAMC,EAAQN,EAAYO,MAC1B,GAAID,EAAO,CACTT,EAAiBW,UAAY,GAC7B,MAAMC,OAnDUN,OAAOG,EAAOI,KAChC,IACE,MAAMC,QAAiBC,MAAM,4FAAqCN,UAAcI,KAEhF,aADmBC,EAASE,QAChBC,O,CACZ,MAAOC,GAEP,OADAC,QAAQD,MAAM,yBAA0BA,GACjC,E,GA4CcE,CAAYX,EAtDnB,GAeG,CAACG,IACpBZ,EAAiBW,UAAY,GAC7BC,EAAOS,SAASC,IACd,MAAMC,EAASD,EAAME,UAAUC,KAAKC,GAAYA,EAAQC,OAAMC,KAAK,MAC7DC,EAAYP,EAAMQ,aAAeR,EAAMQ,aAAaC,MAAM,KAAK,GAAK,GACpEC,EAAYV,EAAMW,aAAeX,EAAMW,aAAaC,QAAQ,GAAK,GACjEC,EAASb,EAAMc,YACf,mCAAmCd,EAAMc,cACzCC,EAAA5C,GACA6C,EAAc,iDACsBhB,EAAMiB,sEAGnC,kCAAoCJ,sBACpCb,EAAMkB,OAASlB,EAAMK,2IAKCL,EAAMkB,OAASlB,EAAMK,gGAEfJ,mGAENM,+CACAG,6DAKnChC,EAAiBW,WAAa2B,CAAW,GACzC,EAUAG,CAAa7B,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-96d25a95b952e7f6.js","node_modules/@parcel/runtime-js/lib/runtime-1c33b48e862e850c.js","src/js/testsandrender.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7FPDn\\\":\\\"index.43db3f0e.js\\\",\\\"h68zw\\\":\\\"noPoster.968db72e.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"h68zw\")).toString();","import noPoster from '../images/noPoster.png';\nconst apiKey = '492f9e953404699f8c7d096022fa41fa'; // Replace with your TMDB API key\nconst apiUrl = 'https://api.themoviedb.org/3/search/movie';\nconst galleryContainer = document.querySelector('.js-gallery'); // Replace with the ID of your gallery container element\nconst searchForm = document.querySelector('.search__form'); // Replace with the class name of your search form\nconst searchInput = document.querySelector('.search__input'); // Replace with the class name of your search input\nconst searchSubmitButton = document.querySelector('.search__submit-button'); // Replace with the class name of your search submit button\n\nlet currentPage = 1;\n\n// Function to fetch movie data from TMDB API\nconst fetchMovies = async (query, page) => {\n  try {\n    const response = await fetch(`${apiUrl}?api_key=${apiKey}&query=${query}&page=${page}`);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.error('Error fetching movies:', error);\n    return [];\n  }\n};\n\n// Function to render movies in the gallery\nconst renderMovies = (movies) => {\n  galleryContainer.innerHTML = ''; // Clear gallery container\n  movies.forEach((movie) => {\n    const genres = movie.genre_ids.map((genreId) => genreId.name).join(', ');\n    const movieYear = movie.release_date ? movie.release_date.split('-')[0] : '';\n    const movieRate = movie.vote_average ? movie.vote_average.toFixed(1) : '';\n    const poster = movie.poster_path\n        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n        : noPoster;\n    const movieMarkup = `\n      <li class=\"gallery__item\" data-movie=\"${movie.id}\">\n        <img\n          class=\"gallery__img\"\n          src=\"${'https://image.tmdb.org/t/p/w500' + poster}\"\n          alt=\"${movie.title || movie.name}\"\n          width\n          loading=\"lazy\"\n        />\n        <div class=\"gallery__wrap\">\n          <h2 class=\"gallery__title\">${movie.title || movie.name}</h2>\n          <div class=\"gallery__info\">\n            <p class=\"gallery__genre-text\">${genres}</p>\n            <span class=\"gallery__date\"> | </span>\n            <p class=\"gallery__date\">${movieYear}</p>\n            <p class=\"gallery__rank\">${movieRate}</p>\n          </div>\n        </div>\n      </li>\n    `;\n    galleryContainer.innerHTML += movieMarkup; // Append movie markup to gallery container\n  });\n};\n\n// Function to handle form submission\nconst handleFormSubmit = async (event) => {\n  event.preventDefault();\n  const query = searchInput.value;\n  if (query) {\n    galleryContainer.innerHTML = ''; // Clear gallery container\n    const movies = await fetchMovies(query, currentPage);\n    renderMovies(movies);\n  }\n};\n\n// Add event listener to form submit button\nsearchSubmitButton.addEventListener('click', handleFormSubmit);\n"],"names":["parcelRequire","register","JSON","parse","$3fe650df118be863$exports","URL","resolve","import","meta","url","toString","$c221d2f0117c9b15$var$galleryContainer","document","querySelector","$c221d2f0117c9b15$var$searchInput","$c221d2f0117c9b15$var$searchSubmitButton","addEventListener","async","event","preventDefault","query","value","innerHTML","movies","page","response","fetch","json","results","error","console","$c221d2f0117c9b15$var$fetchMovies","forEach","movie","genres","genre_ids","map","genreId","name","join","movieYear","release_date","split","movieRate","vote_average","toFixed","poster","poster_path","$parcel$interopDefault","movieMarkup","id","title","$c221d2f0117c9b15$var$renderMovies"],"version":3,"file":"index.43db3f0e.js.map"}